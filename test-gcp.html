<!DOCTYPE html>
<html>
<head>
    <title>test gcp component</title>
</head>
<body>
    <h1>testing gcp vm list visibility</h1>
    <p>open console to see if the button click is working</p>
    
    <button id="test-btn" onclick="testClick()">test gcp vms button</button>
    <div id="output"></div>
    
    <script>
        function testClick() {
            console.log('button clicked!');
            document.getElementById('output').innerHTML = 'button works! check http://localhost:3333 and click "show gcp vms"';
            
            // test api
            fetch('http://localhost:3333/api/trpc/gcp.listVMs?batch=1&input=%7B%220%22%3A%7B%22json%22%3A%7B%22limit%22%3A1%7D%7D%7D')
                .then(r => r.json())
                .then(data => {
                    console.log('api response:', data);
                    document.getElementById('output').innerHTML += '<br>api works: ' + data[0].result.data.json.success;
                })
                .catch(err => {
                    console.error('api error:', err);
                    document.getElementById('output').innerHTML += '<br>api error: ' + err;
                });
        }
    </script>
</body>
</html>